main = ê¬¬à§‡à­ˆ;

interface à¨°  {
imm method @ê¢Œ à¹€á(@à¶±â·¢ ïµ•à¯‹, imm á‰’á©¼ à²½á³âƒ™, mut á¸« ß´à©‘â°¹, capsule áŸ›áªà ™à³•à·Š áœ­à§„, imm á±³à³–à¨¼Í¥ ï»…, @à¦‰à½º â³³à·¦àµ£);
}

interface â±  {

}

interface â¸¯à¾ƒ extends á‹´  {

}

interface à šá³’  {

}

capability class ê­¥Íªá§’àª‚  {
imm method imm â¶ˆâƒ¡ ïµ²â¬() =
head(new ï¬”à¬‚ã‚™à¼ à±€ê§µ());

read method imm ê¬Œà®‚ àµà¤ºà¸±(@ê¦¡à±ˆ à¶¸, @ê©¤á°ªà¥Šß‡ à­ à¼µ, read êŸ· â´­, @à® Ûºê«) =
@à±  ã€† = tail(new ï­€ê«¶á³¥à«ˆ(head(this))),
tail(head(@[])).@ßºàº´();

imm method imm á¢‚à¼·à¯‡ â„™à±«() =
tail(this.â¸¯(head(true )));

capsule method @êª±à§—â€¬ ã‡°ã€¬() =
this;
}

class á­  {
capsule â„ á¢¥;imm method @â„´à ¥à»“ á¥¨() =
head(true );

imm method imm à¬­à³Œà»“ àªŠ(imm á‚à§Œà¼¾à«»ê©ƒ Í¿, imm à¨¹à©µ áª§á®³ï¿»à¾†à¯¬) =
@[];

read method read â……à»‰à©‘à¼¹à»‹à±‹ á‹¹á¢…() =
"";
}

capability class àª½  {
imm method imm ê¨†ê ‹ß† à¯(imm á¿„à­® ê¨¤) =
"\103áŸ";

imm method @à·€ â±€(read ï¿œ êª‰, read ã‚ß‚ à¹€à§) =
tail("ğ‘‘ ğ´¾ğ´¾à¿\u3bCC".àµ–());
}

